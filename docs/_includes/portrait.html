<div class="portrait-wrapper">
  <svg class="portrait-svg" viewBox="0 0 300 380" fill="none" xmlns="http://www.w3.org/2000/svg">
    <!-- Head outline (one smooth continuous curve, no temple bumps) -->
    <path class="draw face" d="M150,38 C170,38 188,44 200,54 C212,64 218,80 220,104 C223,132 225,162 222,190 C219,218 213,242 204,258 C192,274 174,285 162,287 C154,290 146,290 138,287 C126,285 108,274 96,258 C87,242 81,218 78,190 C75,162 77,132 80,104 C82,80 88,64 100,54 C112,44 130,38 150,38 Z"/>

    <!-- Hair fill (crown + sides) -->
    <path class="hair-fill" d="M88,86 C86,72 94,58 100,54 C112,44 130,38 150,38 C170,38 188,44 200,54 C206,58 214,72 212,86 C198,82 178,78 150,78 C122,78 102,82 88,86 Z"/>
    <path class="hair-fill" d="M88,86 C84,100 81,114 80,130 L87,128 C89,114 93,100 96,88 Z"/>
    <path class="hair-fill" d="M212,86 C216,100 219,114 220,130 L213,128 C211,114 207,100 204,88 Z"/>

    <!-- Hair strands - full width across the hair area -->
    <path class="draw hair-detail" d="M108,48 C128,42 158,40 190,46"/>
    <path class="draw hair-detail" d="M104,55 C130,47 165,46 196,54"/>
    <path class="draw hair-detail" d="M100,63 C128,55 164,53 200,62"/>
    <path class="draw hair-detail" d="M96,72 C124,63 162,61 204,70"/>
    <path class="draw hair-detail" d="M92,80 C118,72 160,70 208,78"/>

    <!-- Hairline -->
    <path class="draw hair-detail" d="M105,85 C118,80 138,78 150,78 C162,78 182,80 195,85"/>

    <!-- Side hair texture (close-cropped) -->
    <path class="draw hair-detail" d="M99,93 C94,101 89,113 87,125"/>
    <path class="draw hair-detail" d="M96,98 C92,106 88,118 86,128"/>
    <path class="draw hair-detail" d="M201,93 C206,101 211,113 213,125"/>
    <path class="draw hair-detail" d="M204,98 C208,106 212,118 214,128"/>

    <!-- Ears -->
    <path class="draw face" d="M76,158 C70,160 66,170 68,180 C70,190 74,194 78,192"/>
    <path class="draw face" d="M224,158 C230,160 234,170 232,180 C230,190 226,194 222,192"/>

    <!-- Eyebrows -->
    <path class="draw brows" d="M93,140 C104,133 128,131 148,136"/>
    <path class="draw brows" d="M156,136 C176,131 200,133 211,140"/>

    <!-- Glasses -->
    <path class="draw glasses lens" d="M93,149 L144,149 Q150,149 150,155 L150,176 C150,192 87,192 87,176 L87,155 Q87,149 93,149 Z"/>
    <path class="draw glasses lens" d="M160,149 L211,149 Q217,149 217,155 L217,176 C217,192 154,192 154,176 L154,155 Q154,149 160,149 Z"/>
    <path class="draw glasses" d="M150,164 C150,159 154,159 154,164"/>
    <path class="draw glasses" d="M87,163 L76,160"/>
    <path class="draw glasses" d="M217,163 L228,160"/>

    <!-- Eyes -->
    <path class="draw eyes" d="M104,170 C108,162 122,159 133,164 C139,168 137,176 128,178 C118,180 105,175 104,170"/>
    <path class="draw eyes" d="M171,170 C175,162 189,159 199,164 C205,168 203,176 194,178 C184,180 172,175 171,170"/>

    <!-- Pupils -->
    <circle class="pupil" cx="120" cy="170" r="4"/>
    <circle class="pupil" cx="188" cy="170" r="4"/>

    <!-- Nose -->
    <path class="draw nose" d="M152,186 C150,198 146,208 143,214 C147,218 154,220 160,216"/>

    <!-- Mouth -->
    <path class="draw mouth" d="M126,240 C136,246 146,249 152,249 C158,249 168,246 178,240"/>

    <!-- Beard fill (along jawline and chin) -->
    <path class="hair-fill" d="M98,252 C112,272 130,286 150,290 C170,286 188,272 202,252 C194,266 176,280 150,285 C124,280 106,266 98,252 Z"/>

    <!-- Beard stubble along jawline -->
    <path class="draw goatee" d="M104,256 C110,264 118,272 128,278"/>
    <path class="draw goatee" d="M112,264 C118,270 126,276 134,282"/>
    <path class="draw goatee" d="M196,256 C190,264 182,272 172,278"/>
    <path class="draw goatee" d="M188,264 C182,270 176,276 166,282"/>

    <!-- Neck -->
    <path class="draw neck" d="M118,287 L108,320"/>
    <path class="draw neck" d="M182,287 L192,320"/>

    <!-- Shirt neckline -->
    <path class="draw shirt" d="M108,320 C122,340 138,350 150,352 C162,350 178,340 192,320"/>
    <!-- Shirt shoulders -->
    <path class="draw shirt" d="M108,320 C102,328 90,338 70,348 C54,356 32,364 12,370"/>
    <path class="draw shirt" d="M192,320 C198,328 210,338 230,348 C246,356 268,364 288,370"/>
  </svg>

  <noscript>
    <style>
      .portrait-svg .draw { stroke-dasharray: none !important; stroke-dashoffset: 0 !important; }
      .portrait-svg .pupil { opacity: 1 !important; }
      .portrait-svg .hair-fill { fill-opacity: 0.2 !important; }
    </style>
  </noscript>
</div>

<style>
  .portrait-wrapper {
    display: flex;
    justify-content: center;
    margin: 0 auto 2.5rem;
    max-width: 240px;
  }

  .portrait-svg {
    width: 100%;
    height: auto;
    overflow: visible;
  }

  .portrait-svg .draw {
    stroke: var(--accent);
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
    fill: none;
    stroke-dasharray: 3000;
    stroke-dashoffset: 3000;
  }

  .portrait-svg .draw.face {
    stroke-width: 2.5;
  }

  .portrait-svg .draw.lens {
    stroke-width: 2.8;
  }

  .portrait-svg .draw.hair-detail,
  .portrait-svg .draw.goatee {
    stroke-width: 1.5;
  }

  .portrait-svg .hair-fill {
    fill: var(--accent);
    fill-opacity: 0;
    stroke: none;
  }

  .portrait-svg .pupil {
    fill: var(--accent);
    opacity: 0;
  }

  @keyframes drawLine {
    to { stroke-dashoffset: 0; }
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeInFill {
    from { fill-opacity: 0; }
    to { fill-opacity: 0.22; }
  }

  @media (prefers-reduced-motion: reduce) {
    .portrait-svg .draw {
      stroke-dasharray: none !important;
      stroke-dashoffset: 0 !important;
      animation: none !important;
    }
    .portrait-svg .pupil {
      opacity: 1 !important;
      animation: none !important;
    }
    .portrait-svg .hair-fill {
      fill-opacity: 0.2 !important;
      animation: none !important;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var svg = document.querySelector('.portrait-svg');
    if (!svg) return;

    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      svg.querySelectorAll('.draw').forEach(function(el) {
        el.style.strokeDasharray = 'none';
        el.style.strokeDashoffset = '0';
      });
      svg.querySelectorAll('.pupil').forEach(function(el) {
        el.style.opacity = '1';
      });
      return;
    }

    var delays = {
      face: 0.3, 'hair-detail': 0.8, brows: 1.4,
      glasses: 1.6, eyes: 2.2, nose: 2.4, mouth: 2.8,
      goatee: 3.0, neck: 3.2, shirt: 3.4
    };

    var durations = {
      face: 2.5, 'hair-detail': 0.5, brows: 0.5,
      glasses: 1.0, eyes: 0.7, nose: 0.7, mouth: 0.5,
      goatee: 0.4, neck: 0.4, shirt: 0.8
    };

    svg.querySelectorAll('.draw').forEach(function(el) {
      try {
        var length = el.getTotalLength();
        el.style.strokeDasharray = length;
        el.style.strokeDashoffset = length;
      } catch(e) {}

      var feature = Array.from(el.classList).find(function(c) { return c !== 'draw'; });
      var delay = delays[feature] || 0;
      var duration = durations[feature] || 1;

      el.style.animation = 'drawLine ' + duration + 's ease ' + delay + 's forwards';
    });

    svg.querySelectorAll('.pupil').forEach(function(el) {
      el.style.animation = 'fadeIn 0.5s ease 2.7s forwards';
    });

    svg.querySelectorAll('.hair-fill').forEach(function(el) {
      el.style.animation = 'fadeInFill 1s ease 1.0s forwards';
    });
  });
</script>
